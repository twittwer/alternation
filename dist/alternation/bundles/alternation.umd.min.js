!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/cdk/scrolling"),require("@angular/animations"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("alternation",["exports","@angular/core","rxjs","@angular/cdk/scrolling","@angular/animations","@angular/platform-browser","@angular/common"],e):e(t.alternation={},t.ng.core,t.rxjs,t.ng.cdk.scrolling,t.ng.animations,t.ng.platformBrowser,t.ng.common)}(this,function(t,e,n,r,o,i,a){"use strict";var s=function(){function t(t,e){this.dispatcher=t,this.zone=e,this.alternation=new n.BehaviorSubject({value:0,params:{next:0,time:0}}),this.running=new n.BehaviorSubject(!1),this.speed=new n.BehaviorSubject(3),this._next=null}return t.prototype.position=function(t,e){return{value:t,params:{next:t||0,time:e}}},t.prototype.done=function(){var t=this;this.running.next(!1),this._next&&this.zone.run(function(){t.alternation.next(t._next),t._next=null})},t.prototype.start=function(){this.running.next(!0)},t.prototype.init=function(s,t){var l=this;return void 0===t&&(t={delay:null}),this.dispatcher.scrolled(t.delay).subscribe(function(t){if(t){var e=t.getElementRef().nativeElement,n=s.nativeElement.getBoundingClientRect(),r=Math.round(n.height-2*n.height),o=-Math.round(e.scrollTop/3),i=5*Math.abs(l.alternation.value.value-o);o<r&&(o=r);var a=l.position(o,i);if(l.running.value)return void(l._next=a);o&&l.zone.run(function(){l.alternation.next(a)})}}),this.alternation},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.ScrollDispatcher},{type:e.NgZone}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(r.ScrollDispatcher),e.inject(e.NgZone))},token:t,providedIn:"root"}),t}(),l=o.trigger("alternation",[o.transition("* => *",[o.animate("{{ time }}ms cubic-bezier(0.0, 0.0, 0.2, 1)",o.style({transform:"translateY({{ next }}px)"}))])]),u=function(){function t(t,e,n,r){this.alter=t,this.renderer=e,this.dom=n,this.el=r,this.disabled=!1}return Object.defineProperty(t.prototype,"safeSrc",{get:function(){return this.src?this.dom.bypassSecurityTrustStyle("url("+this.src+")"):""},enumerable:!0,configurable:!0}),t.prototype.start=function(t){this.alter.start()},t.prototype.done=function(t){this.renderer.setStyle(t.element,"transform","translateY("+t.toState+"px)"),this.alter.done()},t.prototype.ngOnInit=function(){this.alternation=this.alter.init(this.el,{delay:this.delay})},t.decorators=[{type:e.Component,args:[{selector:"alternation",animations:[l],styles:[":host{position:relative;overflow:hidden;display:block;height:100%;width:100%}div.image{background-repeat:no-repeat;background-position:center;background-size:cover;will-change:transform;display:block;height:200%;width:100%}div.content{position:absolute;top:0;width:100%;height:100%}"],template:'\n    <div\n      class="image"\n      [style.backgroundImage]="safeSrc"\n      [@.disabled]="disabled"\n      (@alternation.done)="done($event)"\n      (@alternation.start)="start($event)"\n      [@alternation]="alternation | async"\n    ></div>\n    <div class="content">\n      <ng-content></ng-content>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:s},{type:e.Renderer2},{type:i.DomSanitizer},{type:e.ElementRef}]},t.propDecorators={disabled:[{type:e.Input}],delay:[{type:e.Input}],src:[{type:e.Input}]},t}(),c=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[u],exports:[u]}]}],t}();t.Alternation=s,t.AlternationComponent=u,t.AlternationModule=c,t.Éµa=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=alternation.umd.min.js.map